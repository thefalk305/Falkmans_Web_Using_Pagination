[Terminator] Start
    ↓
[Process] Fetch JSON file
    ↓
[Process] Extract traveler data (name, waypoints)
    ↓
[Process] Initialize map and tile layer
    ↓
[Process] Set tourBtn text to "Click to Start journey"
    ↓
[Process] Build pauseAtIndices, allPoints, segmentTypes
    ↓
[Process] Fit map to full journey bounds
    ↓
[Process] Draw polylines and static markers
    ↓
[Process] Initialize movingMarker and state variables
    ↓
[Input/Output] Wait for user interaction (click or key)
    ↓
[Decision] Is tourBtn clicked?
    ↓
        ┌───────────────Yes───────────────┐
        ↓                                ↓
[Decision] Is tourStarted false?     [Decision] Is pendingResetAtChicago?
        ↓                                ↓
[Process] Set tourStarted = true     [Process] Reset currentIndex
[Process] Reset currentIndex         [Process] Clear flags
[Process] Update tourBtn text        [Process] Remove marker
[Process] Call moveMarker()          [Process] Reinitialize map
        ↓                                ↓
        └───────────────No───────────────┘
                      ↓
[Process] Resume journey
[Process] Hide tourBtn
[Process] Clear pause flags
[Process] Fit bounds to next segment
[Process] Update icon
[Process] Call moveMarker()
    ↓
[Process] moveMarker()
    ↓
[Decision] Is tourStarted false or isPaused true?
        ↓
    [Terminator] Return
        ↓
[Decision] Is currentIndex ≥ allPoints.length?
        ↓
        ┌───────────────Yes───────────────┐
        ↓                                ↓
[Process] Update tourBtn text            ↓
[Process] Show tourBtn                   ↓
[Process] Reset tourStarted and index    ↓
    [Terminator] Return                  ↓
        └───────────────No───────────────┘
                      ↓
[Decision] Is currentIndex in pauseAtIndices AND skipNextPause is false?
        ↓
        ┌───────────────Yes───────────────┐
        ↓                                ↓
[Process] Zoom to current point          ↓
[Process] Pause audio                    ↓
[Process] Show popup                     ↓
[Process] Set flags                      ↓
[Process] Show tourBtn                   ↓
    [Terminator] Return                  ↓
        └───────────────No───────────────┘
                      ↓
[Process] Close popup
[Process] Move marker to currentIndex
[Process] Set timeout to increment index
[Process] Call moveMarker()

