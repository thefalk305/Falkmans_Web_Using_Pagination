<!DOCTYPE html>
<html lang="en">
<head>
  <title>Falkman Family History</title>
  <meta content="Falkman family history site." name="description" />
  <meta content="family history, ancestors, family, parents, grand parents, aunts & uncles, sibling, brothers & sisters, great-grandparents, cousins" name="keywords" />
  <meta content="text/html; charset=iso-8859-1" http-equiv="Content-Type" />
  <meta content="en-us" http-equiv="Content-Language" />
  <meta content="Allen Falkman" name="author"/>
  <meta content="General" name="rating" />
  <meta content="no" http-equiv="imagetoolbar" />
  <meta content="Copyright Â© 2025, Allen Falkman All Rights Reserved" name="copyright" />
  <meta name="page-title" content="Genealogy Document Archives" />
  <link rel="icon" href="../assets/favicon.ico">

  <link href="../css/collage.css" rel="stylesheet" type="text/css" />
  <link href="../css/magnify.css" rel="stylesheet" type="text/css" />
  <link href="../css/records.css" rel="stylesheet" type="text/css" />

<style>
.highlight-box.area {
  pointer-events: auto;
  border-color: rgba(255, 0, 0, 0.5) !important; 
  background-color: rgba(255, 255, 0, 0.0) !important; 
  cursor: pointer;
}
</style>

</head>
<body>
  <div id="container">
    <div id="header"></div>
    <script src="../js/loadHeader.js"></script>

    <h3 id="doc-notes" ></h3>
    <!-- This form is used to add more records to the archive -->
    <div id="form-container" style="display: none;">
      <form id="doc-form" class="styled-form">
        <fieldset>
          <legend>Add New Document</legend>
          <h3>This form facilitates adding a new document to the Document Archives. Fill in the Title and Notes with the appropriate information. Choose a document image from the 'records' folder.  Position and size the red box around the area of interest in the document. The 'Submit' button will copy all the form information to the clipboard which can then be pasted into the records.json file. Remember to assign a sequential 'id' when pasting the new document information into records.json.</h3>
          <div class="form-row">
            <label for="title">Title:</label>
            <input type="text" id="title" />
          </div>

          <div class="form-row">
            <label for="fileInput">File Path:</label>
            <input type="url" id="fileInput" />
          </div>

          <div class="form-row percent-group">
            <div class="percent-pair">
              <label for="xPercent">xPercent:</label>
              <input type="number" id="xPercent" />
            </div>
            <div class="percent-pair">
              <label for="yPercent">yPercent:</label>
              <input type="number" id="yPercent" />
            </div>
            <div class="percent-pair">
              <label for="widthPercent">widthPercent:</label>
              <input type="number" id="widthPercent" />
            </div>
            <div class="percent-pair">
              <label for="heightPercent">heightPercent:</label>
              <input type="number" id="heightPercent" />
            </div>
          </div>          
          
          <div class="form-row">
            <label for="notes">Notes:</label>
            <textarea id="notes" rows="4" cols="80"></textarea>
          </div>

          <div class="form-actions">
            <button type="button" id="submitBtn">Submit</button>
          </div>
        </fieldset>
      </form>    
    </div>
    <div class="doc-container">
      <div class="img-magnifier-container">
        <img id="doc-image" class="magImage" src="" alt="Document" style="width: 100%;" />
      </div>
    </div>

    <div id="footer"></div>
    <script src="../js/loadFooter.js"></script>
  </div>

<script type="module">
  import { initMagnifierControls } from '../js/magnifier.js';
  document.addEventListener('DOMContentLoaded', () => {
    setTimeout(() => {
      initMagnifierControls();
    }, 100);
  });
</script>

<script type="module">
  import { loadCollageViewer } from '../js/loadCollageViewer.js';

  const params = new URLSearchParams(window.location.search);
  const docId = params.get('id');
  loadCollageViewer(docId, '../data/records.json');
</script>
</body>
</html>