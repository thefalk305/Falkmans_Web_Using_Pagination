<!DOCTYPE html>
<head>
	<title>The Immigrants Journey</title>
	<meta content="Falkman family history site." name="description" />
	<meta content="family history, ancestors, family, parents, grand parents, aunts & uncles, sibling, brothers & sisters, great-grandparents, cousins" name="keywords" />
	<meta content="text/html; charset=iso-8859-1" http-equiv="Content-Type" />
	<meta content="en-us" http-equiv="Content-Language" />
	<meta content="Allen Falkman" name="author"/>
	<meta content="General" name="rating" />
	<meta content="no" http-equiv="imagetoolbar" />
	<meta content="Copyright © 2025, Allen Falkman All Rights Reserved" name="copyright" />

  <meta name="page-title" content="Karin Norén's Journey" />

	<link href="../css/magnify.css" rel="stylesheet" type="text/css" />
	<link rel="icon" href="../assets/favicon.ico" />
	<link href="https://fonts.googleapis.com/css2?family=IM+Fell+English&display=swap" rel="stylesheet"/>
	<link href="../css/falkman.css" rel="stylesheet" type="text/css" />
	<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
	<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <!-- add geographical overlay -->
  <script src="https://unpkg.com/leaflet-providers"></script>

		<link href="../css/font-awesome-7.0.1-all.min.css" rel="stylesheet" type="text/css" />

<style>
.custom-sea-icon,
.custom-traveler-icon {
  font-size: 36px;
  line-height: 36px;
  text-align: center;
}

#tour-btn,
#togglePersonBtn {
	color: blue;
  position: relative;
	margin: 0px auto;
	display: block;            /* Ensures margin auto works */
  padding: 8px 16px;
  font-size: 16px;
  cursor: pointer;
	font-weight: 700;
  z-index: 1000;
  border-radius: 10px;
}	

#togglePersonBtn {
	background-color: #EBDF9F;
	margin: 0px auto;
	display: block;            /* Ensures margin auto works */
}	

#tour-btn {
  bottom: 70px;
  transform: translateX(70%);
  background-color: aquamarine;
}

#map {
	height: 600px; 
	width: 80%; 
	position: relative;
	margin: auto;
}

.leaflet-popup-content {
	max-width: 800px;
	width: 600px;
	max-height: 300px;
	/* overflow-y: scroll; */
	width: 370px !important;}
</style>
</head>

<body>

<div id="container">

  <!-- Inserts the common header-->
  <div id="header"></div>
  <script src="../js/loadHeader.js"></script>


	<div id="map" style="height: 600px;"></div>
	<button id="tour-btn"></button>
	<!-- <button id="pause-btn">Pause</button> -->
	<!-- <button id="mute-btn">Mute</button> -->
	<audio id="ambient-audio" preload="auto"></audio>
  <button id="togglePersonBtn">View Karin Norén's Journey</button>

  <!-- content contains the remainder of the page. -->
  <div id="content" >
		<p align="justify">After the late 1880's, the majority of Swedish emigrants traveled by boat from Göteborg, Sweden through the North Sea to Hull, England. They would then board a train to Liverpool. From Liverpool, the journey continued through the Irish Sea, St. George's Channel and the Celtic Sea then across the North Atlantic on a big transatlantic passenger steamers. This is the route that my great grand-father, Nils P. Falkman took when he left Sweden and headed to America. Unlike Nils, my great-grandmother, Karin Norén, traveled from the village of Arbrä on the east coast of Sweden to the port city of Göteborg. She then sailed across the Baltic Sea and into the Bay of Lübeck and onto Hamburg, Germany. At Hamburg, she boarded a train to Bremen. Leaving Bremen, she would have traveled through the English Channel then across the North Atlantic to America.</p>

		<p align="justify">Here is another map that shows the routes that have been taken by immigrants traveling from Europe to North America. By far, the majority of Swedes came through Göteborg to Hull England, then across England to Liverpool. From Liverpool, they traveled to America.</p>

		<div class="magGlass-container">
			<img
				src="../images/PassTraf.jpg"
				width="736"
				height="478"
				alt="PassTraf"
			/>
		</div>
  </div>
	<!-- Inserts the common footer. -->
<div id="footer"></div>
<script src="../js/loadFooter.js"></script>
</div>


<script type="module">
  let currentTraveler = 0;
  const jsonFile = '../data/journeys.json';
  const toggleBtn = document.getElementById('togglePersonBtn');

  // Toggle between Nils and Karin
  toggleBtn.addEventListener('click', () => {
    currentTraveler = currentTraveler === 0 ? 1 : 0;
    toggleBtn.textContent = `View ${currentTraveler === 0 ? "Karin Norén's" : "Nils Falkman's"} Journey`;

    // Rebuild the map with the updated person
    mapBuilder(jsonFile, currentTraveler);
  });

  // Import the map builder
  import { mapBuilder } from '../js/The Immigrants Journey-simplified.js';

  // Initialize map on page load
  document.addEventListener('DOMContentLoaded', () => {
    setTimeout(() => {
      mapBuilder(jsonFile, currentTraveler);
    }, 100); // Delay to ensure header/footer are loaded
  });
</script>


<!-- <script src="../js/Karin Norén's map.js"></script> -->

<script type="module">
  import { initMagnifierControls } from '../js/magnifier.js';
  document.addEventListener('DOMContentLoaded', () => {
    // Wait briefly to ensure header/footer are loaded
    setTimeout(() => {
      initMagnifierControls();
    }, 100); // You can adjust this delay if needed
  });
</script>
</body>
</html>
